# ğŸ¤– Multi-Agentåä½œç³»ç»Ÿ

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

ä½ çš„Stellar AI Treasuryç°åœ¨æ˜¯ä¸€ä¸ªçœŸæ­£çš„**Multi-Agentåä½œç³»ç»Ÿ**ï¼Œæ¨¡æ‹Ÿé¡¶çº§é‡åŒ–å¯¹å†²åŸºé‡‘çš„è¿ä½œæ¨¡å¼ã€‚

### ä¸‰ä¸ªAI Agentåä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Trading Agent - "James Simons"                             â”‚
â”‚  åƒæ–‡è‰ºå¤å…´åŸºé‡‘åˆ›å§‹äººä¸€æ ·çš„é‡åŒ–ç ”ç©¶å‘˜                         â”‚
â”‚                                                              â”‚
â”‚  ä»»åŠ¡: åˆ†æå¸‚åœºæ•°æ®ï¼Œç”Ÿæˆ1-3ä¸ªäº¤æ˜“ä¿¡å·                        â”‚
â”‚  å·¥å…·:                                                       â”‚
â”‚    â€¢ Momentum Strategy (åŠ¨é‡ç­–ç•¥)                            â”‚
â”‚    â€¢ Mean Reversion (å‡å€¼å›å½’)                               â”‚
â”‚    â€¢ Path Improvement (è·¯å¾„ä¼˜åŒ–)                             â”‚
â”‚    â€¢ Stablecoin Strategy (ç¨³å®šå¸ç­–ç•¥)                        â”‚
â”‚    â€¢ Multi-Asset Rebalancing (å¤šèµ„äº§å†å¹³è¡¡)                  â”‚
â”‚    â€¢ Multi-Asset Momentum (å¤šèµ„äº§åŠ¨é‡)                       â”‚
â”‚                                                              â”‚
â”‚  è¾“å‡º: [Signal1, Signal2, Signal3] â†’ å‘é€ç»™Risk Agent       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“ ç”Ÿæˆçš„äº¤æ˜“ä¿¡å·
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Risk Agent - "é£é™©ç®¡ç†ä¸“å®¶"                                 â”‚
â”‚  ä¸“ä¸šçš„é£é™©è¯„ä¼°å’Œä¿¡å·ç­›é€‰                                     â”‚
â”‚                                                              â”‚
â”‚  ä»»åŠ¡: è¯„ä¼°æ¯ä¸ªä¿¡å·çš„é£é™©ï¼Œé€‰æ‹©æœ€ä¼˜çš„ä¸€ä¸ª                     â”‚
â”‚  è¯„ä¼°ç»´åº¦:                                                   â”‚
â”‚    â€¢ VaR (95% Value at Risk)                                â”‚
â”‚    â€¢ CVaR (Conditional VaR)                                 â”‚
â”‚    â€¢ Sharpe Ratio (å¤æ™®æ¯”ç‡)                                â”‚
â”‚    â€¢ Max Drawdown (æœ€å¤§å›æ’¤)                                â”‚
â”‚    â€¢ Risk Score (ç»¼åˆé£é™©è¯„åˆ†)                              â”‚
â”‚                                                              â”‚
â”‚  é€‰æ‹©é€»è¾‘:                                                   â”‚
â”‚    - é£é™©è°ƒæ•´åæ”¶ç›Šæœ€é«˜                                      â”‚
â”‚    - å¦‚æœæ‰€æœ‰ä¿¡å·é£é™©è¿‡é«˜ â†’ æ‹’ç»å…¨éƒ¨                         â”‚
â”‚                                                              â”‚
â”‚  è¾“å‡º: BestSignal â†’ å‘é€ç»™Payment Agent                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â†“ é€‰ä¸­çš„æœ€ä¼˜ä¿¡å·
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Payment Agent - "äº¤æ˜“æ‰§è¡Œä¸“å®¶"                              â”‚
â”‚  ç²¾ç¡®æ‰§è¡Œäº¤æ˜“å¹¶ç»“ç®—ä¸ºUSDC                                    â”‚
â”‚                                                              â”‚
â”‚  ä»»åŠ¡: æ‰§è¡Œé€‰å®šçš„äº¤æ˜“ï¼Œå°†æ”¶ç›Šè½¬æ¢ä¸ºUSDC                       â”‚
â”‚  æ‰§è¡Œæ­¥éª¤:                                                   â”‚
â”‚    1. åˆ†æäº¤æ˜“ä¿¡å·                                           â”‚
â”‚    2. ä½¿ç”¨Stellar Path Paymentæ‰¾åˆ°æœ€ä¼˜è·¯å¾„                   â”‚
â”‚    3. æ‰§è¡Œäº¤æ˜“ï¼ˆæœ€å°åŒ–æ»‘ç‚¹å’Œæˆæœ¬ï¼‰                            â”‚
â”‚    4. å°†æ‰€æœ‰æ”¶ç›Šè½¬æ¢ä¸ºUSDC                                   â”‚
â”‚    5. è®°å½•äº¤æ˜“åˆ°Risk Agent                                   â”‚
â”‚                                                              â”‚
â”‚  ç»“ç®—åŸåˆ™:                                                   â”‚
â”‚    - æ‰€æœ‰èµ„äº§æœ€ç»ˆä»¥USDCè®¡ä»·                                  â”‚
â”‚    - ç±»ä¼¼Robinhoodçš„ç¾å…ƒç»“ç®—æ¨¡å¼                             â”‚
â”‚    - äº¤æ˜“è€…ä»XLMå¼€å§‹ï¼Œæœ€ç»ˆè·å¾—USDCæ”¶ç›Š                        â”‚
â”‚                                                              â”‚
â”‚  è¾“å‡º: æ‰§è¡Œç»“æœ + USDCæ”¶ç›Š                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ

### 1. **ä¸“ä¸šåŒ–åˆ†å·¥**
- **Trading Agent**: ä¸“æ³¨ç­–ç•¥ç ”ç©¶å’Œä¿¡å·ç”Ÿæˆ
- **Risk Agent**: ä¸“æ³¨é£é™©è¯„ä¼°å’Œä¿¡å·ç­›é€‰  
- **Payment Agent**: ä¸“æ³¨äº¤æ˜“æ‰§è¡Œå’Œç»“ç®—

### 2. **é£é™©æ§åˆ¶**
- å¤šä¸ªä¿¡å·ç«äº‰ï¼Œåªæ‰§è¡Œé£é™©æœ€ä½çš„
- AIè¯„ä¼°æ¯ä¸ªä¿¡å·çš„å¤šç»´åº¦é£é™©
- è‡ªåŠ¨æ‹’ç»é«˜é£é™©äº¤æ˜“

### 3. **æ”¶ç›Šä¼˜åŒ–**
- 6ç§ç­–ç•¥ç»„åˆï¼Œæ•æ‰ä¸åŒå¸‚åœºæœºä¼š
- é£é™©è°ƒæ•´åæ”¶ç›Šï¼ˆRisk-Adjusted Returnï¼‰
- USDCç»“ç®—ï¼Œæ¸…æ™°çš„ç›ˆäºè®¡ç®—

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### 1. å¯ç”¨Multi-Agentç³»ç»Ÿ

ç¼–è¾‘ `app/config.yaml`:

```yaml
agent_system:
  enabled: true  # â† è®¾ç½®ä¸ºtrueå¯ç”¨
  model: "gpt-4"  # æˆ– "gpt-4-turbo" / "gpt-3.5-turbo"
```

### 2. è®¾ç½®OpenAI API Key

```bash
export OPENAI_API_KEY="sk-your-api-key-here"
```

æˆ–åœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ ï¼š
```
OPENAI_API_KEY=sk-your-api-key-here
```

### 3. è¿è¡Œæµ‹è¯•

```bash
python test_multi_agent.py
```

### 4. å¯åŠ¨Dashboard

```bash
python smart_start.py
```

ç‚¹å‡» "Run Trading Cycle" æŒ‰é’®ï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
ğŸ¤– ä½¿ç”¨Multi-Agentåä½œç³»ç»Ÿ...
==============================================================

1ï¸âƒ£ Trading Agent: åˆ†æå¸‚åœºå¹¶ç”Ÿæˆäº¤æ˜“ä¿¡å·...
   âœ… ç”Ÿæˆäº† 3 ä¸ªäº¤æ˜“ä¿¡å·
      1. BUY XLM - momentum_strategy
      2. CONVERT_TO_USDC BTC - stablecoin_strategy
      3. BUY ETH - multi_asset_momentum

2ï¸âƒ£ Risk Agent: è¯„ä¼°æ¯ä¸ªä¿¡å·çš„é£é™©...
   âœ… é€‰æ‹©æœ€ä¼˜ä¿¡å·: BUY XLM
      é£é™©è¯„åˆ†: 0.35
      é¢„æœŸæ”¶ç›Š: 5.20%

3ï¸âƒ£ Payment Agent: æ‰§è¡Œäº¤æ˜“å¹¶ç»“ç®—ä¸ºUSDC...
   ğŸ“‹ æ‰§è¡Œè®¡åˆ’: ä½¿ç”¨path paymentä¼˜åŒ–è·¯å¾„
   âœ… äº¤æ˜“æ‰§è¡Œå®Œæˆ
      USDCæ”¶ç›Š: $125.50
```

## ğŸ“Š Agenté…ç½®è¯¦è§£

### Trading Agenté…ç½®

```yaml
trading_agent:
  personality: "James Simons"  # AIäººæ ¼
  temperature: 0.7             # åˆ›é€ æ€§ (0=ä¿å®ˆ, 1=æ¿€è¿›)
  max_signals: 3               # æœ€å¤šç”Ÿæˆ3ä¸ªä¿¡å·
```

**æ¸©åº¦å»ºè®®**:
- `0.3-0.5`: ä¿å®ˆï¼Œé€‚åˆç‰›å¸‚
- `0.6-0.8`: å¹³è¡¡ï¼Œé€‚åˆå¤§å¤šæ•°æƒ…å†µ
- `0.8-1.0`: æ¿€è¿›ï¼Œé€‚åˆç†Šå¸‚å¯»æ‰¾æœºä¼š

### Risk Agenté…ç½®

```yaml
risk_agent:
  personality: "Risk Manager"
  temperature: 0.3             # ä½æ¸©åº¦=æ›´ä¿å®ˆ
  max_risk_score: 0.7          # æœ€å¤§å¯æ¥å—é£é™©
```

**é£é™©é˜ˆå€¼**:
- `0.5`: éå¸¸ä¿å®ˆï¼Œåªæ¥å—æä½é£é™©
- `0.7`: å¹³è¡¡ï¼ˆæ¨èï¼‰
- `0.9`: æ¿€è¿›ï¼Œæ¥å—è¾ƒé«˜é£é™©

### Payment Agenté…ç½®

```yaml
payment_agent:
  personality: "Execution Specialist"
  temperature: 0.2             # æä½æ¸©åº¦=ç²¾ç¡®æ‰§è¡Œ
  always_settle_to_usdc: true  # æ€»æ˜¯ç»“ç®—ä¸ºUSDC
```

## ğŸ”„ å®Œæ•´æµç¨‹ç¤ºä¾‹

### è¾“å…¥: å¸‚åœºæ•°æ®

```json
{
  "prices": [0.11, 0.115, 0.12, 0.125],
  "volatility_zscore": 1.8,
  "assets": {
    "XLM": {"price": 0.13, "change_24h": 8.3},
    "BTC": {"price": 109707, "change_24h": 1.34},
    "ETH": {"price": 3854, "change_24h": 1.15}
  }
}
```

### Step 1: Trading Agentç”Ÿæˆä¿¡å·

```json
{
  "signals": [
    {
      "action": "BUY",
      "asset": "XLM",
      "amount": 1000,
      "strategy": "momentum_strategy",
      "reason": "XLMæ˜¾ç¤ºå¼ºåŠ²ä¸Šæ¶¨è¶‹åŠ¿(+8.3%)ï¼ŒåŠ¨é‡æŒ‡æ ‡è‰¯å¥½",
      "expected_return": 0.052,
      "confidence": 0.78
    },
    {
      "action": "CONVERT_TO_USDC",
      "asset": "BTC",
      "amount": 0.01,
      "strategy": "stablecoin_strategy",
      "reason": "å¸‚åœºæ³¢åŠ¨ç‡åé«˜ï¼Œå»ºè®®éƒ¨åˆ†è½¬ä¸ºUSDCé¿é™©",
      "expected_return": 0.0,
      "confidence": 0.65
    },
    {
      "action": "BUY",
      "asset": "ETH",
      "amount": 1.5,
      "strategy": "multi_asset_momentum",
      "reason": "ETHä¸BTCç›¸å…³æ€§ä½ï¼Œåˆ†æ•£æŠ•èµ„é£é™©",
      "expected_return": 0.032,
      "confidence": 0.62
    }
  ]
}
```

### Step 2: Risk Agentè¯„ä¼°

```json
{
  "risk_analysis": {
    "signal_0": {
      "var_95": 0.045,
      "cvar_95": 0.062,
      "sharpe_ratio": 1.45,
      "max_drawdown": 0.08,
      "risk_score": 0.35,
      "risk_adjusted_return": 0.042
    },
    "signal_1": {
      "var_95": 0.012,
      "cvar_95": 0.015,
      "sharpe_ratio": 0.0,
      "max_drawdown": 0.02,
      "risk_score": 0.15,
      "risk_adjusted_return": 0.0
    },
    "signal_2": {
      "var_95": 0.055,
      "cvar_95": 0.075,
      "sharpe_ratio": 1.12,
      "max_drawdown": 0.12,
      "risk_score": 0.48,
      "risk_adjusted_return": 0.025
    }
  },
  "selected_signal_index": 0,
  "recommendation": "é€‰æ‹©Signal 0 (BUY XLM)ï¼Œå› ä¸ºé£é™©è°ƒæ•´åæ”¶ç›Šæœ€é«˜(4.2%)ï¼Œä¸”é£é™©è¯„åˆ†å¯æ¥å—(0.35)"
}
```

### Step 3: Payment Agentæ‰§è¡Œ

```json
{
  "execution_plan": "ä½¿ç”¨Stellar path paymentä»USDCè½¬æ¢ä¸ºXLMï¼Œé¢„è®¡è·¯å¾„æˆæœ¬18 bps",
  "estimated_usdc_profit": 125.50,
  "steps": [
    "1. ä»é’±åŒ…è·å–130 USDC",
    "2. é€šè¿‡path paymentè½¬æ¢ä¸º1000 XLM",
    "3. æ‰§è¡Œåé¢„æœŸä»·å€¼: 130 * 1.052 = 136.76 USDC",
    "4. å‡€æ”¶ç›Š: 136.76 - 130 = 6.76 USDC"
  ],
  "success": true,
  "usdc_profit": 6.76,
  "transaction_hash": "a1b2c3d4e5f6..."
}
```

### è¾“å‡º: æœ€ç»ˆç»“æœ

```json
{
  "status": "SUCCESS",
  "mode": "multi_agent",
  "trading_signals_generated": 3,
  "selected_signal": {
    "action": "BUY",
    "asset": "XLM",
    "strategy": "momentum_strategy",
    "risk_score": 0.35
  },
  "total_usdc_profit": 6.76,
  "portfolio_value_usd": 1536.76,
  "usdc_allocation": 45.2
}
```

## ğŸ’¡ Agentäººæ ¼ç‰¹ç‚¹

### Trading Agent: "James Simons"

**äººæ ¼ç‰¹å¾**:
- æ•°å­¦/ç»Ÿè®¡å¯¼å‘
- å¤šç­–ç•¥ç»„åˆ
- æ•°æ®é©±åŠ¨å†³ç­–
- ä¸ç›¸ä¿¡ç›´è§‰ï¼Œåªç›¸ä¿¡æ•°æ®

**Promptç¤ºä¾‹**:
```
ä½ æ˜¯ä¸–ç•Œé¡¶çº§é‡åŒ–ç ”ç©¶å‘˜James Simonsã€‚
- ç”¨æ•°å­¦å’Œç»Ÿè®¡åˆ†æå¸‚åœº
- ç»„åˆä½¿ç”¨å¤šç§ç­–ç•¥
- æ¯ä¸ªå†³ç­–éƒ½æœ‰æ•°æ®æ”¯æ’‘
- è¯´æ˜é¢„æœŸæ”¶ç›Šå’Œä¿¡å¿ƒåº¦
```

### Risk Agent: "é£é™©ç®¡ç†ä¸“å®¶"

**äººæ ¼ç‰¹å¾**:
- ä¿å®ˆè°¨æ…
- å…¨é¢é£é™©è¯„ä¼°
- æ‹’ç»ä¸ç¡®å®šæ€§é«˜çš„äº¤æ˜“
- ä¼˜å…ˆä¿æŠ¤æœ¬é‡‘

**Promptç¤ºä¾‹**:
```
ä½ æ˜¯ä¸“ä¸šé£é™©ç®¡ç†ä¸“å®¶ã€‚
- å…¨é¢è¯„ä¼°æ¯ä¸ªä¿¡å·çš„é£é™©
- è®¡ç®—VaR, CVaR, Sharpeç­‰æŒ‡æ ‡
- å¦‚æœæ‰€æœ‰ä¿¡å·é£é™©è¿‡é«˜ï¼Œå‹‡äºè¯´"ä¸"
- ä¼˜å…ˆè€ƒè™‘é£é™©è°ƒæ•´åæ”¶ç›Š
```

### Payment Agent: "æ‰§è¡Œä¸“å®¶"

**äººæ ¼ç‰¹å¾**:
- ç²¾ç¡®æ‰§è¡Œ
- æˆæœ¬ä¼˜åŒ–
- ä¸è´¨ç–‘å†³ç­–
- ç¡®ä¿USDCç»“ç®—

**Promptç¤ºä¾‹**:
```
ä½ æ˜¯äº¤æ˜“æ‰§è¡Œä¸“å®¶ã€‚
- ç²¾ç¡®æ‰§è¡Œé€‰å®šçš„äº¤æ˜“
- ä½¿ç”¨æœ€ä¼˜è·¯å¾„å‡å°‘æˆæœ¬
- å°†æ‰€æœ‰æ”¶ç›Šè½¬æ¢ä¸ºUSDC
- è®°å½•å®Œæ•´äº¤æ˜“ç»†èŠ‚
```

## ğŸ›ï¸ é«˜çº§é…ç½®

### å¯ç”¨/ç¦ç”¨Multi-Agent

```yaml
agent_system:
  enabled: true  # true=AIåä½œ, false=ä¼ ç»Ÿè§„åˆ™
```

- `true`: ä½¿ç”¨OpenAI Agentï¼Œä¼šæ¶ˆè€—API credits
- `false`: ä½¿ç”¨ä¼ ç»Ÿè§„åˆ™ç³»ç»Ÿï¼Œä¸è°ƒç”¨OpenAI

### é€‰æ‹©AIæ¨¡å‹

```yaml
agent_system:
  model: "gpt-4"  # é€‰é¡¹
```

**æ¨¡å‹å¯¹æ¯”**:

| æ¨¡å‹ | æ™ºèƒ½ç¨‹åº¦ | é€Ÿåº¦ | æˆæœ¬ | æ¨èåœºæ™¯ |
|------|---------|------|------|---------|
| gpt-4 | â­â­â­â­â­ | æ…¢ | é«˜ | ç”Ÿäº§ç¯å¢ƒ |
| gpt-4-turbo | â­â­â­â­ | å¿« | ä¸­ | æ¨è |
| gpt-3.5-turbo | â­â­â­ | å¾ˆå¿« | ä½ | æµ‹è¯•/å¼€å‘ |

### è°ƒæ•´Agentæ¸©åº¦

```yaml
trading_agent:
  temperature: 0.7  # 0.0 - 1.0

risk_agent:
  temperature: 0.3  # å»ºè®®ä¿æŒä½æ¸©åº¦

payment_agent:
  temperature: 0.2  # å»ºè®®ä¿æŒæä½æ¸©åº¦
```

**æ¸©åº¦æ•ˆæœ**:
- `0.0 - 0.3`: ç¡®å®šæ€§ï¼Œé‡å¤æ€§é«˜
- `0.4 - 0.7`: å¹³è¡¡ï¼Œé€‚åº¦åˆ›æ–°
- `0.8 - 1.0`: åˆ›é€ æ€§ï¼Œå˜åŒ–å¤š

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### å‡å°‘APIè°ƒç”¨

å¦‚æœOpenAI APIæˆæœ¬æ˜¯é—®é¢˜ï¼š

1. **ä½¿ç”¨å¤‡é€‰é€»è¾‘**:
```python
# agent_system.pyä¼šè‡ªåŠ¨fallback
# Trading Agentå¤±è´¥ â†’ ä½¿ç”¨ä¼ ç»Ÿç­–ç•¥
# Risk Agentå¤±è´¥ â†’ ä½¿ç”¨ç®€å•è¯„åˆ†
# Payment Agentå¤±è´¥ â†’ ç›´æ¥æ‰§è¡Œ
```

2. **è°ƒæ•´è°ƒç”¨é¢‘ç‡**:
```yaml
auto_trading:
  interval_minutes: 60  # å¢åŠ é—´éš”å‡å°‘è°ƒç”¨
```

3. **ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹**:
```yaml
agent_system:
  model: "gpt-3.5-turbo"  # æˆæœ¬é™ä½90%
```

### æé«˜å†³ç­–è´¨é‡

1. **æä¾›æ›´å¤šå¸‚åœºæ•°æ®**:
```python
market_data = {
    "prices": [...],  # æ›´å¤šå†å²ä»·æ ¼
    "volume": [...],  # äº¤æ˜“é‡æ•°æ®
    "orderbook": {...},  # è®¢å•ç°¿æ·±åº¦
    "news_sentiment": 0.65  # æ–°é—»æƒ…ç»ª
}
```

2. **è°ƒæ•´é£é™©é˜ˆå€¼**:
```yaml
risk_agent:
  max_risk_score: 0.5  # æ›´ä¸¥æ ¼
```

3. **å¢åŠ ä¿¡å·æ•°é‡**:
```yaml
trading_agent:
  max_signals: 5  # æ›´å¤šé€‰æ‹©
```

## ğŸ” ç›‘æ§å’Œè°ƒè¯•

### æŸ¥çœ‹Agentå¯¹è¯

```python
# åœ¨test_multi_agent.pyä¸­å¯ç”¨è¯¦ç»†æ—¥å¿—
import logging
logging.basicConfig(level=logging.DEBUG)
```

### æŸ¥çœ‹APIè°ƒç”¨

æ£€æŸ¥OpenAIåå°: https://platform.openai.com/usage

### æŸ¥çœ‹å†³ç­–ç†ç”±

æ¯ä¸ªAgentéƒ½ä¼šè¿”å› `reason` æˆ– `recommendation`:

```json
{
  "selected_signal": {...},
  "risk_recommendation": "é€‰æ‹©Signal 0å› ä¸º..."
}
```

## ğŸš¨ æ•…éšœæ’é™¤

### é—®é¢˜1: OpenAI APIè°ƒç”¨å¤±è´¥

**ç—‡çŠ¶**: 
```
âš ï¸  AIç”Ÿæˆä¿¡å·å¤±è´¥ï¼Œä½¿ç”¨å¤‡é€‰æ–¹æ¡ˆ
```

**è§£å†³**:
1. æ£€æŸ¥API Key: `echo $OPENAI_API_KEY`
2. æ£€æŸ¥ä½™é¢: OpenAIåå°
3. æ£€æŸ¥ç½‘ç»œ: `curl https://api.openai.com`

**ä¸´æ—¶æ–¹æ¡ˆ**: ç³»ç»Ÿä¼šè‡ªåŠ¨ä½¿ç”¨å¤‡é€‰é€»è¾‘

### é—®é¢˜2: Agentæ€»æ˜¯æ‹’ç»äº¤æ˜“

**ç—‡çŠ¶**:
```
âš ï¸  Risk Agentæ‹’ç»æ‰€æœ‰ä¿¡å·ï¼ˆé£é™©è¿‡é«˜ï¼‰
```

**è§£å†³**:
é™ä½é£é™©é˜ˆå€¼:
```yaml
risk_agent:
  max_risk_score: 0.8  # ä»0.7å¢åŠ åˆ°0.8
```

### é—®é¢˜3: æ‰§è¡Œæˆæœ¬è¿‡é«˜

**ç—‡çŠ¶**:
```
USDCæ”¶ç›Š: -$2.50  # è´Ÿæ”¶ç›Š
```

**è§£å†³**:
1. å¢åŠ äº¤æ˜“é‡ï¼ˆå‡å°‘ç›¸å¯¹æˆæœ¬ï¼‰
2. æ£€æŸ¥Stellarç½‘ç»œè´¹ç”¨
3. ä¼˜åŒ–path paymentè·¯å¾„

## ğŸ“š ä¸‹ä¸€æ­¥

### 1. æ·»åŠ æ›´å¤šç­–ç•¥

åœ¨ `agents/trading.py` ä¸­æ·»åŠ æ–°ç­–ç•¥å·¥å…·ã€‚

### 2. ä¼˜åŒ–Agent Prompt

ä¿®æ”¹ `agents/agent_system.py` ä¸­çš„ `system_prompt`ã€‚

### 3. é›†æˆå®æ—¶å¸‚åœºæ•°æ®

ä½¿ç”¨ `stellar/market_data.py` è·å–å®æ—¶ä»·æ ¼ã€‚

### 4. æ·»åŠ å›æµ‹åŠŸèƒ½

åˆ›å»º `backtest.py` æµ‹è¯•å†å²è¡¨ç°ã€‚

### 5. åˆ›å»ºä¸“ä¸šDashboard

å¢å¼º `app/dashboard.py` æ˜¾ç¤ºAgentå¯¹è¯ã€‚

## ğŸ‰ æ€»ç»“

ä½ ç°åœ¨æ‹¥æœ‰ä¸€ä¸ª**çœŸæ­£çš„Multi-Agent AIäº¤æ˜“ç³»ç»Ÿ**:

âœ… **Trading Agent** åƒJames Simonsä¸€æ ·ç”Ÿæˆä¿¡å·  
âœ… **Risk Agent** ä¸“ä¸šè¯„ä¼°é£é™©å¹¶é€‰æ‹©æœ€ä¼˜  
âœ… **Payment Agent** ç²¾ç¡®æ‰§è¡Œå¹¶ç»“ç®—ä¸ºUSDC  
âœ… **å®Œæ•´æµç¨‹** ä»åˆ†æåˆ°æ‰§è¡Œçš„è‡ªåŠ¨åŒ–  
âœ… **é£é™©æ§åˆ¶** å¤šç»´åº¦è¯„ä¼°ï¼Œè‡ªåŠ¨æ‹’ç»é«˜é£é™©  
âœ… **OpenAIé©±åŠ¨** çœŸæ­£çš„AIå†³ç­–ï¼ˆå¯é€‰ï¼‰  

è¿™æ˜¯ä¸€ä¸ª**ç”Ÿäº§çº§**çš„AIäº¤æ˜“ç³»ç»Ÿï¼ğŸš€
